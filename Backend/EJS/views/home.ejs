<%- include("includes/head.ejs") %>

    <title><%= user %></title>
    <style>
      :root {
        font-size: 10px;
    }
    
    *,
    *::before,
    *::after {
        box-sizing: border-box;
    }
    
    body {
        font-family: "Open Sans", Arial, sans-serif;
        min-height: 100vh;
        background-color: #fafafa;
        color: #262626;
        padding-bottom: 3rem;
    }
    
    img {
        display: block;
    }
    
    .container {
        max-width: 93.5rem;
        margin: 0 auto;
        padding: 0 2rem;
    }
    
    .btn {
        display: inline-block;
        font: inherit;
        background: none;
        border: none;
        color: inherit;
        padding: 0;
        cursor: pointer;
    }
    
    .btn:focus {
        outline: 0.5rem auto #4d90fe;
    }
    
    .visually-hidden {
        position: absolute !important;
        height: 1px;
        width: 1px;
        overflow: hidden;
        clip: rect(1px, 1px, 1px, 1px);
    }
    
    /* Profile Section */
    
    .profile {
        padding: 5rem 0;
    }
    
    .profile::after {
        content: "";
        display: block;
        clear: both;
    }
    
    .profile-image {
        float: left;
        width: calc(33.333% - 1rem);
        display: flex;
        justify-content: center;
        align-items: center;
        margin-right: 3rem;
    }
    
    .profile-image img {
        border-radius: 50%;
    }
    
    .profile-user-settings,
    .profile-stats,
    .profile-bio {
        float: left;
        width: calc(66.666% - 2rem);
    }
    
    .profile-user-settings {
        margin-top: 1.1rem;
    }
    
    .profile-user-name {
        display: inline-block;
        font-size: 2.5rem;
        font-weight: 300;
    }
    
    .profile-edit-btn {
        font-size: 1.4rem;
        line-height: 1.8;
        border: 0.1rem solid #dbdbdb;
        border-radius: 0.3rem;
        padding: 0 2.4rem;
        margin-left: 2rem;
    }
    
    .profile-settings-btn {
        font-size: 2rem;
        margin-left: 1rem;
    }
    
    .profile-stats {
        margin-top: 2.3rem;
    }
    
    .profile-stats li {
        display: inline-block;
        font-size: 1.6rem;
        line-height: 1.5;
        margin-right: 4rem;
        cursor: pointer;
    }
    
    .profile-stats li:last-of-type {
        margin-right: 0;
    }
    
    .profile-bio {
        font-size: 1.6rem;
        font-weight: 400;
        line-height: 1.5;
        margin-top: 2.3rem;
    }
    
    .profile-real-name,
    .profile-stat-count,
    .profile-edit-btn {
        font-weight: 600;
    }
    
    /* Gallery Section */
    
    .gallery {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem; /* Adjust gap between items */
        margin: -1rem;
        padding-bottom: 3rem;
    }
    
    .gallery-item {
        flex: 1 1 calc(32.333% - 1rem); /* Ensures 3 items per row with spacing */
        margin: 1rem;
        position: relative;
        color: #fff;
        cursor: pointer;
        box-sizing: border-box;
        /* Adjust the following line to make sure the image does not stretch */
        max-width: calc(31.333% - 1rem); 
    }
    
    .gallery-item img {
        width: 100%;
        height: 100%; /* Maintains aspect ratio */
        object-fit: cover;
    }
    
    .gallery-item:hover .gallery-item-info,
    .gallery-item:focus .gallery-item-info {
        display: flex;
        justify-content: center;
        align-items: center;
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.3);
    }
    
    .gallery-item-info {
        display: none;
    }
    
    .gallery-item-info li {
        display: inline-block;
        font-size: 1.7rem;
        font-weight: 600;
    }
    
    .gallery-item-likes {
        margin-right: 2.2rem;
    }
    
    .gallery-item-type {
        position: absolute;
        top: 1rem;
        right: 1rem;
        font-size: 2.5rem;
        text-shadow: 0.2rem 0.2rem 0.2rem rgba(0, 0, 0, 0.1);
    }
    
    .fa-clone,
    .fa-comment {
        transform: rotateY(180deg);
    }
    
    .add_new_post {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 48px; /* Adjust size as needed */
        height: 48px; /* Adjust size as needed */
        border: 2px solid #000; /* Adjust border color */
        border-radius: 50%; /* Makes it circular */
        cursor: pointer;
        background-color: #fff; /* Background color */
        transition: background-color 0.3s ease, border-color 0.3s ease;
    }
    
    .add_new_post:hover {
        background-color: #f0f0f0; /* Change background on hover */
        border-color: #333; /* Change border color on hover */
    }
    
    .container {
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    
    .icon {
        width: 24px; /* Adjust icon size */
        height: 24px; /* Adjust icon size */
        fill: none;
        stroke: #000; /* Icon color */
        stroke-width: 2;
    }
    
      
  
  

    </style>
  </head>

  <body>
    <header>
        <div class="container">
            <div class="profile">
                <div class="profile-image">
                    <img src="<%= data.profile %>" alt="" style="width: 200px;" />
                </div>

                <div class="profile-user-settings">
                    <h1 class="profile-user-name"><%= data.name %></h1>
                    <button class="btn profile-edit-btn" style="background-color: #4d90fe">
                        Follow
                    </button>
                    <button class="btn profile-edit-btn">Message</button>
                    <button class="btn profile-settings-btn" aria-label="profile settings">
                        <i class="fas fa-cog" aria-hidden="true"></i>
                    </button>
                </div>

                <div class="profile-stats">
                    <ul>
                        <li><span class="profile-stat-count">164</span> posts</li>
                        <li><span class="profile-stat-count"><%= data.followers %></span> followers</li>
                        <li><span class="profile-stat-count"><%= data.following %></span> following</li>
                    </ul>
                </div>

                <div class="profile-bio">
                    <p>
                        <span class="profile-real-name"><%= data.name %></span> Lorem ipsum dolor sit, amet consectetur adipisicing elit üì∑‚úàÔ∏èüèïÔ∏è
                    </p>
                </div>
            </div>
            <!-- End of profile section -->
        </div>
        <!-- End of container -->
    </header>

    <main>
        <div class="container">
            <div class="gallery">
                <% for(let post of data.posts) { %>
                <a href="http://localhost:8080/posts/<%= user %>/<%= post.id %>" class="gallery-item" tabindex="0">
                    <img src="<%= post.image %>" class="gallery-image" alt="" />

                    <div class="gallery-item-info">
                        <ul>
                            <li class="gallery-item-likes">
                                <span class="visually-hidden">Likes:</span>
                                <i class="fas fa-heart" aria-hidden="true"></i> <%= post.likes %>
                            </li>
                            <li class="gallery-item-comments">
                                <span class="visually-hidden">Comments:</span>
                                <i class="fas fa-comment" aria-hidden="true"></i> <%= post.comments %>
                            </li>
                        </ul>
                    </div>
                </a>
                <% } %>
            </div>
            <!-- End of gallery -->

            <a href="http://localhost:8080/posts/new/<%= user %>" class="container_post">
                <div class="add_new_post">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="icon">
                        <path d="M12 4v16m8-8H4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
            </a>
        </div>
        <!-- End of container -->
    </main>
</body>
</html>
